# ???????? ?????????? 321/2015029

# ?????? ??????????
.data 	
	#result: .word 0	# ????????? ??? ??? A????????? ??????? ????????????? 
	loop: .word 0 # H ????????? loop ????? ? ???????? ??????????? ??? ???????
		
	msg0: .asciiz "Calculation of the Greatest Common Divis or of two integers using Euclid's algorithm\n"

	msg1: .asciiz "Dose ton 1o arithmo: " # ?????? ??? msg0
	msg2: .asciiz "Dose ton 2o arithmo: " # ?????? ??? msg1	 
	
	msg3: .asciiz "The Greatest Common Divisor is: "
	
	msg4: .asciiz "Both numbers are 0s!!! \n"

	enter: .asciiz "\n" # ?????? ??? msg1

# ?? ????????? ???????????? ???? ??? ?? .text
.text

	# ?????? ????????? 
	main:          
        	la $a0,msg0 # ?????????? ?????????? msg0 ???? ?????????? $a0 
		li $v0,4 # ????? ??? ???????? ????????? string	
		syscall # ????????
	
		la $a0,msg1 # ?????????? ?????????? msg0 ???? ?????????? $a0 
		li $v0,4 # ????? ??? ???????? ????????? string	
		syscall # ????????
        
	        li $v0,5 # ????? ??? ???????? ????????  
		syscall # ????????
		move $t0,$v0 # ?????????? ??? ????? ???? ?????????? 
	
		la $a0,msg1 # ?????????? ?????????? msg0 ???? ?????????? $a0 
		li $v0,4 # ????? ??? ???????? ????????? string	
		syscall # ????????
        
        	li $v0,5 # ????? ??? ???????? ????????  
		syscall # ????????
		move $t1,$v0 # ?????????? ??? ????? ???? ?????????? 
               
                jal zero_func
        
        	blt $t0, $zero, negative_func
        	sub $t0, $zero, $t0
        	
        zero_func:
        	bne $t0, $t1, negative_func # cond1: branch if ! (num1  == num2 ) 
        	bne $t0, 0 , negative_func  
        	la $a0,msg4 # ?????????? ?????????? msg0 ???? ?????????? $a0 
		li $v0,4 # ????? ??? ???????? ????????? string	
		syscall # ???????? 
		
		jal END
        
	negative_func:
		bgt $t1, $zero , ELSE 
		sub $t1, $zero, $t1
        
        
	ELSE:
		jal euclid_loop # ????? ??? ?????????? 
	
		la $a0,msg3 # ?????????? ?????????? msg0 ???? ?????????? $a0 
		li $v0,4 # ????? ??? ???????? ????????? string	
		syscall # ????????
	
		move $a0,$t0 # ?????????? ?????????? $t2 ???? ?????????? $a0 
		li $v0,1 # ????? ??? ???????? ????????? ????????
		syscall # ????????
	
	END:
		li $v0,10 # ????? ??? ?????
		syscall # ????????
	
	euclid_loop:

		add $t2,$t0,0
		add $t0,$t1,0
		rem $t1,$t2,$t1	

		bne $t1,0,euclid_loop
	
		jr $ra # ?????? ??? ??? ????????? ??? ????????? ???? ?????????? $ra
